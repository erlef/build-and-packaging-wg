# June 3

Note: This is was an asynchronous meeting over the #build-and-packaging channel over in the EEF slack. These meeting notes are backfilled from the threads we've had there.


Attendees:

- Dan Janowski
- Lukas Backström
- Fred Hebert
- Nick Adams
- Jonathan Otsuka
- Wojtek Mach
- Bryan Paxton
- Barry Moore
- José Valim

Agenda:

- Asking for details on Rebar4
- how to package for MacOS?
- Freshness of Short/Long term items on https://erlef.org/wg/build-and-packaging with an eye toward priority and how to address the resources needed
- Nix updates
- rebar3\_hex 7.0.11 released with a fix for the corner case that allowed for publishing with git dependencies.
- Hey human, how are you?
- Anon funs in ex doc config that require elixir scripts to work; can anything be done?

Notes:

- Asking for details on Rebar4
  - provided a link to an older EEF discussion within the working group from [December 3](https://github.com/erlef/build-and-packaging-wg/blob/ed48eb8a0ea1cabc2454457a5c42dfd84702020d/minutes/2024-12-03.md)
- how to package for MacOS?
  - in OSX, you ship a lot of executables in a tarball, and each of them ends up asking for lots of security exceptions after every reboot, and the question is whether there's a workaround for that? OpenRiak finds it a pain.
  - A signed package might reduce this problem
    - burrito-Elixir works well, Elixir-LS uses it plus signing to make things work, it should work for OpenRiak too
    - someone pointed out Elixir-LS actually does not do signing and asks for exceptions, might still work for signing
  - One of the OpenRiak problem is that they ship tarballs of executables rather than an installable package (riak, escript, epmd, etc.). Would every binary need signing?
  - in OSX, files are only put under quarantine when they are downloaded from the Web (and AirDrop and probably Mail.app etc), in other words, if you curl it instead, it should be fine.
    - at some point apple was gonna require all running apps to be notarized (code signed and uploaded to apple for static verification) but that doesn't seem to be the case yet.
- Freshness of Short/Long term items on https://erlef.org/wg/build-and-packaging with an eye toward priority and how to address the resources needed
  - The page is outdated
  - We can cross EEP-48 off there. Some of those goals are open-ended though, and I suppose that might have been intentional.
    - Need volunteers and/or money
- Nix updates
  - Most of it is automated now, little to report.
- rebar3\_hex 7.0.11 released with a fix for the corner case that allowed for publishing with git dependencies.
  - Some friction here exists because rebar3 only locks on the default profile
  - No clear solution for Rebar3, aside from potentially growing lock files to contain growing combinations of profiles within lock files
- Hey human, how are you?
  - Usual thread of participants just giving more personal updates, elided from notes.
- Anon funs in ex doc config that require elixir scripts to work; can anything be done?
  - In Erlang, `file:consult/1` does not allow funs to be interpreted. There's some neat functionality added to ex\_doc for sections, etc., but they seem to require anon funs for filtering, so they can't be used.
  - The Erlang shell and other places support these funs in configs
  - old related issue: https://github.com/erlang/otp/issues/6994. It was about pids, but funs are part of the ordeal.
  - would switching to `file:script/1` work?
    - potentially not because it only returns the last expression.
